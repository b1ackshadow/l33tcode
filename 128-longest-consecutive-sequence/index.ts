function longestConsecutive(nums: number[]): number {
  const numSet = new Set(nums);
  let max = 0;
  for (const n of nums) {
    const startOfSequence = !numSet.has(n - 1);
    if (startOfSequence) {
      let currentSeq = n;
      while (numSet.has(++currentSeq)) {
      }
      const currLen = currentSeq - n;
      //console.log(n, startOfSequence, currentSeq, currLen);
      if (currLen > max) {
        max = currLen;
      }
      max = Math.max(currLen, max);
    }
  }
  return max;
};


let n = [100, 4, 200, 1, 3, 2];
console.log(longestConsecutive(n));
console.log();
n = [0, 3, 7, 2, 5, 8, 4, 6, 0, 1];
console.log(longestConsecutive(n));


n = [62670, 50689, 74016, 89663, 88676, 8656, 45810, 78903, 42372, 7450, 84540, 10203, 11186, 26242, 60948, 6001, 88298, 35259, 47767, 74702, 35450, 26739, 6812, 46776, 4465, 4675, 80985, 50761, 9572, 61561, 20897, 97997, 43424, 30642, 96130, 10658, 84610, 23353, 56681, 81749, 7600, 583, 61054, 73098, 66965, 6289, 74894, 45016, 96813, 76117, 68417, 38287, 13721, 16441, 30943, 49406, 9086, 3137, 95059, 80549, 82789, 58583, 18462, 17612, 95763, 35597, 9785, 17429, 12329, 55930, 34757, 38921, 46069, 78475, 14699, 22660, 35329, 80296, 27841, 65278, 4009, 63931, 20550, 36593, 12633, 15756, 39716, 71561, 34398, 66712, 89399, 68359, 48733, 86288, 68348, 56547, 44245, 36714, 17300, 51453, 13046, 74536, 64640, 99869, 39634, 26027, 54955, 91319, 56093, 31613, 43743, 95877, 10211, 29388, 35657, 92542, 34894, 30911, 16768, 2634, 7793, 80906, 21041, 32861, 22284, 16161, 23619, 17492, 4383, 34103, 55668, 62086, 3355, 71041, 1188, 10824, 98761, 78288, 45260, 18343, 49499, 73947, 90254, 6116, 79622, 74452, 83698, 19951, 35025, 254, 4370, 23516, 53234, 9351, 71931, 79291, 7585, 33119, 86414, 48453, 5, 73340, 13457, 61877, 97556, 79733, 51457, 97792, 90955, 32759, 25492, 61398, 3111, 18086, 23019, 86695, 66839, 93669, 60730, 67595, 54405, 73609, 54108, 97494, 31558, 59518, 45557, 43030, 54257, 90442, 33355, 44183, 44176, 15054, 5399, 66026, 43371, 53637, 39667, 32092, 2984, 67633, 94180, 4113, 41254, 51933, 59232, 83261, 94322, 24059, 73760, 21320, 71472, 80269, 7028, 29228, 86578, 51182, 94035, 30125, 63707, 99937, 38500, 93335, 36527, 20862, 39229, 18252, 79007, 46613, 51799, 64375, 38755, 46220, 90152, 66013, 78164, 30824, 43236, 71432, 1083, 73725, 95168, 36074, 72693, 86065, 86025, 71464, 71917, 46504, 60884, 49045, 29138, 75264, 77874, 6769, 28500, 72119, 84515, 20568, 83270, 66578, 59599, 55088, 44141, 85114, 18565, 86896, 19903, 27658, 94582, 85805, 39426, 59858, 17497, 43216, 12808, 88165, 85410, 5993, 97924, 1727, 38142, 53245, 75289, 26797, 42140, 43811, 20678, 81050, 20331, 19254, 2194, 93123, 78593, 29501, 10827, 39407, 88507, 68721, 72171, 15770, 62154, 76002, 26042, 90905, 5413, 29142, 62394, 11158, 99331, 59328, 17344, 72449, 31806, 97125, 51250, 75489, 31070, 5884, 64407, 80496, 6754, 47644, 51694, 29998, 91693, 24224, 97902, 47926, 9119, 21865, 44927, 78967, 15088, 34642, 89081, 98254, 79534, 85342, 82802, 91848, 41724, 2608, 18789, 63111, 5201, 65401, 93157, 59694, 11583, 1715, 15548, 35793, 78371, 37827, 78414, 68333, 22864, 29925, 89873, 95746, 69109, 72772, 63103, 18089, 92492, 47606, 18656, 91216, 82552, 8635, 5403, 62888, 67097, 4299, 6299, 54934, 79890, 14231, 96526, 24012, 31441, 47396, 98041, 20539, 6244, 39395, 20027, 58902, 6596, 26448, 3239, 33261, 64545, 96244, 75101, 82962, 80896, 92202, 65783, 57906, 80582, 38624, 22844, 59611, 37277, 51980, 36033, 94514, 34695, 85, 53934, 89343, 18381, 48842, 13225, 52527, 35992, 44110, 17459, 63837, 80449, 21324, 46080, 8159, 95079, 49207, 32772, 46039, 1913, 24407, 24413, 38198, 3775, 28059, 32869, 81783, 66249, 15080, 96846, 10609, 65416, 85930, 21647, 45364, 26254, 44457, 82638, 51444, 79716, 11394, 9577, 20999, 51807, 5967, 25583, 83503, 13444, 71935, 57920, 58767, 42503, 45546, 48215, 90169, 72654, 37415, 42752, 35486, 45392, 120, 96406, 23004, 51164, 51294, 45632, 12563, 88857, 51682, 51525, 99122, 76043, 96747, 38816, 85840, 79748, 42944, 38828, 62659, 90237, 86421, 84965, 62077, 19902, 6645, 36314, 2453, 48345, 43497, 23455, 54543, 83947, 47733, 74414, 62014, 19449, 51497, 58480, 30127, 94246, 99610, 83914, 8244, 47882, 6685, 46280, 87235, 47098, 40876, 40481, 62879, 54506, 79837, 90590, 94320, 33114, 92461, 35076, 90839, 5327, 87042, 66611, 29302, 22171, 31373, 76137, 5816, 78444, 16910, 84598, 92630, 19719, 87631, 57106, 60832, 47253, 46344, 83279, 21275, 66336, 98700, 85598, 21402, 79355, 42389, 35817, 18851, 35953, 46547, 85660, 75414, 16548, 92276, 49380, 32855, 73212, 86193, 41621, 38965, 40618, 46974, 28581, 54699, 14063, 92174, 19936, 94819, 15076, 49169, 7998, 93771, 37858, 19507, 94031, 15241, 90761, 87605, 87080, 46573, 68830, 2202, 42573, 22898, 86304, 57923, 11520, 20191, 99882, 73210, 89219, 33541, 34921, 90345, 77015, 21071, 41917, 82317, 45123, 23475, 62457, 59152, 65963, 26418, 75127, 23129, 4288, 63485, 20688, 43768, 26622, 57581, 53950, 80253, 83193, 90156, 83840, 46448, 71590, 92144, 65043, 78265, 67088, 65115, 7232, 82607, 27500, 16024, 78733, 50137, 1506, 24163, 92322, 89182, 94792, 74849, 58113, 29680, 11476, 53922, 84859, 72832, 10227, 28140, 67440, 21195, 85487, 73852, 15671, 12223, 16243, 63786, 99157, 10764, 97062, 4967, 72769, 87966, 51246, 75321, 92902, 87051, 15204, 34631, 50192, 39454, 41355, 52266, 64668, 17145, 22430, 76710, 97657, 77394, 22047, 13598, 73647, 48053, 41691, 79491, 77679, 49695, 51913, 39980, 73971, 95963, 78134, 15737, 88911, 76351, 70921, 65010, 39150, 33181, 44538, 16053, 52991, 75086, 70991, 10699, 76153, 62389, 20506, 36323, 59001, 69301, 79789, 50461, 77821, 24763, 22503, 16051, 62435, 82112, 39594, 99821, 44007, 99082, 56542, 2503, 61182, 91000, 4196, 75893, 98933, 4952, 14294, 12360, 51907, 1766, 47116, 58541, 92573, 31685, 41313, 18197, 9275, 67147, 35780, 30880, 61361, 38550, 2160, 9233, 41534, 46983, 25588, 68837, 39465, 45640, 46036, 98661, 20194, 8223, 10229, 45858, 43235, 95143, 91858, 51078, 93841, 89418, 30134, 69164, 29271, 48045, 72455, 30784, 44290, 48608, 52901, 7445, 90378, 96067, 978, 97906, 11766, 30219, 20241, 58512, 57470, 10498, 25397, 93645, 40964, 21057, 32436, 35682, 86187, 43704, 73905, 76407, 35800, 24650, 93701, 13970, 18312, 71228, 61638, 75588, 43567, 62716, 21011, 345, 80047, 17578, 9642, 39241, 57157, 93209, 97333, 16720, 56979, 88047, 34401, 17776, 63227, 15153, 12501, 67156, 44127, 30548, 10146, 81325, 9016, 4427, 29847, 27298, 94056, 28884, 22293, 45880, 66540, 77565, 191, 1373, 26955, 48962, 70091, 64059, 22794, 89457, 98355, 17951, 45295, 30691, 46797, 84320, 47167, 34403, 74238, 10384, 7178, 555, 32735, 63239, 8339, 26552, 37020, 98098, 80004, 48637, 93561, 18777, 27812, 22684, 87194, 35206, 37797, 11059, 23081, 89086, 9773, 61586, 54454, 56552, 99161, 96255, 75432, 53417, 19727, 2736, 83719, 26079, 23991, 93596, 32717, 43238, 96634, 61073, 47526, 31662, 15560, 37209, 53404, 61840, 11197, 51742, 33077, 11396, 22114, 65944, 96854, 367, 20874, 34416, 68751, 38159, 47699, 20772, 68235, 2374, 64747, 62037, 90941, 61405, 81954, 92689, 48105, 73398, 4808, 75103, 53406, 61600, 66033, 38072, 46567, 98650, 67763, 83295, 73283, 55157, 27310, 64256, 39190, 45811, 42748, 98623, 49803, 46184, 29669, 12676, 22454, 30971, 50629, 41932, 3072, 65180, 13937, 57829, 77239, 32877, 56215, 64455, 73492, 92587, 49872, 52309, 86389, 20580, 65735, 52945, 47191, 57833, 7918, 96501, 67200, 6716, 10851, 89173, 30176, 4652, 96823, 816, 64854, 1828, 68825, 84910, 17253, 46127, 92268, 99696, 46811, 65559, 47179, 8721, 51485, 17037, 79422, 54149, 5485, 58304, 10237, 28847, 63024, 70176, 19751, 28961, 60035, 83581, 23069, 86031, 8047, 2093, 3258, 71554, 53651, 29613, 31948, 16113, 2186, 41393, 80912, 89060, 55257, 25347, 36137, 30882, 30223, 59168, 21967, 17418, 84575, 84083, 64103, 89000, 74544, 30773, 78884, 12368, 20589, 14983, 32378, 79777, 80463, 18528, 25547, 37960, 96241, 74361, 48498, 41455, 62664, 48460, 52373, 35725, 34486, 77781, 82429, 89402, 9258, 19891, 91608, 67826, 34145, 58629, 72232, 33673, 70303, 31794, 66700, 97790, 94296, 67074, 48761, 12949, 84860, 76653, 78523, 67467, 20059, 78588, 67786, 71715, 24557, 47636, 21976, 10391, 49052, 82035, 47665, 51222, 48126, 41479, 67692, 24754, 95648, 30379, 90808, 82138, 15132, 3660, 54337, 86701, 5183, 59806, 134, 65722, 95495, 15555, 9205, 81784, 87169, 60820, 6567, 94491, 66149, 43320, 13613, 82898, 76693, 60979, 3176, 13309, 48132, 91208, 56738, 33097, 80193, 87492, 67715, 37469, 74675, 17635, 94955, 84453, 85818, 28930, 14866, 3093, 39869, 46099, 276, 90564, 18756, 11779, 92849, 45844, 60064, 67481, 82682, 64015, 88278, 55052, 62910, 93678, 57290, 46181, 82724, 35369, 27046, 45902, 31645, 66073, 80501, 98348, 3412, 18634, 67295, 34984, 82737, 20978, 61002, 92569, 59687, 57401, 9374, 59660, 68879, 72642, 94718, 5068, 14799, 69255, 90465, 77027, 8078, 85950, 36430, 13288, 33222, 11263, 80578, 21823, 77407, 95004, 67810, 54527, 78954, 93361, 21208, 13885, 35565, 80897, 66898, 64831, 88123, 82767, 5256, 73038, 21450, 97716, 34458, 2377, 99047, 27823, 37352, 7798, 30355, 5753, 24731, 64677, 41783, 31614, 6168, 52620, 64765, 52007, 96388, 92443, 29979, 86419, 24229, 95871, 71327, 61273, 58978, 65138, 89982, 20775, 72729, 53140, 68578, 90089, 2540, 97116, 54483, 96996, 64348, 12658, 75960, 33534, 55950, 87614, 573, 56028, 10048, 61615, 23716, 23590, 70465, 15748, 13082, 62680, 80558, 78573, 11737, 70414, 76855, 56726, 96860, 49587, 40849, 43443, 46478, 5553, 14217, 19398, 48630, 90989, 71054, 88169, 6047, 14307, 84325, 37287, 13768, 7016, 88389, 88184, 29335, 92396, 42917, 36559, 63286, 2754, 98642, 6156, 894, 73664, 1459, 25805, 38152, 81252, 7627, 59339, 47356, 84073, 25426, 55619, 99503, 5260, 9060, 57669, 49178, 29170, 79561, 67050, 27374, 85792, 9189, 25007, 42820, 24272, 47016, 69408, 36932, 27989, 39684, 63458, 17245, 20759, 6472, 16686, 59272, 79172, 98727, 13675, 95628, 81057, 5024, 68567, 22956, 45610, 5044, 66408, 52319, 92992, 19144, 72311, 78328, 10021, 88971, 43955, 66983, 30553, 20291, 52882, 72728, 70366, 50693, 43797, 18336, 36170, 78991, 54128, 78089, 60535, 36836, 33351, 99788, 34163, 44821, 60560, 36394, 94901, 51809, 55459, 33525, 14131, 16046, 53206, 10415, 22968, 59514, 47873, 17317, 92845, 66105, 55902, 69629, 89214, 66355, 69133, 81333, 98599, 23555, 58573, 91300, 83996, 52357, 97808, 25064, 66188, 46614, 94201, 10051, 26729, 39073, 6202, 29272, 22592, 2284, 48191, 14513, 96787, 69537, 38191, 26463, 29202, 73929, 95797, 45051, 280, 31335, 71308, 20346, 32069, 55012, 82071, 20376, 10509, 27205, 6668, 29398, 24130, 92486, 95658, 56053, 95364, 52783, 55347, 12411, 46539, 76564, 16680, 43348, 39007, 21199, 34454, 50836, 75733, 18892, 2390, 58100, 35127, 72334, 48057, 54921, 71542, 94440, 51233, 43099, 23768, 19263, 40370, 4101, 80854, 5726, 3984, 51715, 18896, 53756, 63657, 12608, 58236, 2538, 96076, 17376, 78702, 12217, 4770, 63444, 96863, 304, 55877, 56536, 79506, 3962, 49720, 6917, 10326, 26029, 80509, 25023, 65191, 87160, 31380, 57936, 80637, 53526, 55361, 75753, 96269, 78015, 4564, 65, 19181, 52032, 4198, 48694, 10491, 82423, 21527, 89571, 53942, 82664, 73877, 18012, 17703, 11321, 14340, 12140, 11359, 99031, 25880, 8251, 32608, 41315, 93642, 18356, 68374, 8543, 2348, 42440, 99294, 28010, 97690, 36622, 58396, 6676, 11556, 58235, 97565, 15069, 34623, 84804, 56689, 27532, 70202, 18600, 98171, 10158, 21736, 36022, 70802, 10599, 19192, 25723, 46131, 30886, 80802, 67328, 88152, 82177, 44764, 12817, 57843, 58258, 47704, 2523, 19316, 44008, 91853, 7029, 28667, 90297, 50611, 92427, 87613, 32983, 38338, 9350, 76429, 57184, 21927, 2722, 4425, 19265, 51500, 11681, 67369, 64022, 79551, 79111, 3741, 12907, 34200, 99835, 18261, 53281, 26549, 58885, 27509, 66975, 86570, 21053, 37691, 11209, 59417, 25618, 31530, 97021, 54957, 34520, 9127, 9128, 9465, 98630, 69759, 46155, 196, 6595, 59935, 42502, 38304, 61265, 12374, 73512, 3891, 15612, 54834, 32326, 89231, 79589, 62488, 48770, 9530, 7758, 41107, 82645, 17109, 49746, 34689, 23196, 77708, 55899, 46104, 26997, 33205, 13069, 49210, 37373, 41883, 30904, 96904, 64717, 87913, 72161, 57245, 15465, 56097, 85181, 37556, 49999, 86597, 26382, 65350, 3456, 8127, 87059, 520, 23483, 89380, 78135, 88853, 49173, 47491, 32782, 7771, 37967, 70516, 75124, 86894, 23869, 14961, 52380, 59939, 23205, 39669, 20738, 57835, 6603, 45048, 85971, 12366, 22707, 78041, 36264, 2841, 97585, 32158, 58936, 44659, 86197, 3009, 49531, 1434, 72852, 25458, 70669, 33194, 87013, 44827, 534, 49694, 78123, 87220, 38643, 71902, 54824, 36909, 72457, 29961, 28750, 9907, 2504, 55531, 58772, 10033, 61661, 12175, 34481, 34105, 78385, 61910, 83929, 83422, 34142, 63842, 30680, 75568, 50504, 65745, 19525, 58881, 92298, 98276, 17106, 47119, 62576, 98463, 69977, 53023, 60553, 90722, 35496, 30866, 59240, 86485, 63005, 96976, 44442, 10577, 27799, 22286, 42099, 49080, 94510, 30592, 31095, 59190, 46056, 67495, 7721, 42705, 61145, 47948, 26836, 70662, 54457, 70076, 51564, 70214, 86283, 82192, 81952, 4279, 17339, 78464, 46510, 39249, 57353, 51031, 41513, 8184, 62742, 82976, 6686, 65217, 61767, 55172, 64558, 99385, 8557, 29235, 16403, 57355, 94644, 64303, 11656, 96452, 25270, 91575, 92365, 91706, 15185, 54800, 52321, 64617, 3454, 51773, 21879, 25169, 86997, 98393, 10179, 19364, 96390, 2522, 38080, 27247, 10660, 29790, 92755, 82373, 95712, 64431, 68503, 22329, 24167, 80129, 21768, 72264, 83136, 90200, 90701, 10860, 64054, 50627, 29397, 54291, 62562, 90853, 93293, 26411, 49579, 26451, 66648, 69176, 8357, 98960, 65036, 84900, 24394, 12486, 32100, 99281, 37144, 42403, 99899, 67210, 143, 6701, 46463, 43306, 9829, 21486, 68832, 79080, 48857, 19872, 53145, 28280, 73066, 859, 29193, 93285, 69567, 79420, 8677, 55204, 23679, 98890, 78455, 52724, 28167, 39319, 2287, 68647, 67975, 69259, 76359, 50767, 28623, 3836, 17383, 60753, 42816, 28818, 52660, 64812, 74240, 38679, 79628, 92937, 68963, 36129, 26582, 74425, 56694, 24333, 26258, 6461, 77960, 30919, 80104, 48905, 16603, 53366, 16112, 37881, 88754, 92418, 94658, 28662, 54607, 27206, 86144, 98689, 62586, 30711, 12192, 42718, 35731, 77485, 38094, 44839, 34789, 36589, 77263, 9302, 49918, 20321, 38300, 36071, 18315, 29903, 14265, 8845, 52828, 79025, 8699, 37910, 39996, 3941, 68758, 2151, 15527, 22041, 32404, 86118, 64259, 60749, 59957, 51749, 62306, 47628, 82195, 56545, 97787, 3681, 20217, 935, 7968, 87592, 65777, 29169, 90833, 80110, 42121, 565, 64443, 54100, 96954, 38786, 29763, 96301, 52979, 6027, 76316, 39555, 55320, 17928, 6670, 60236, 92057, 24091, 68042, 98759, 82232, 38290, 1044, 47750, 11878, 69809, 21127, 96047, 5556, 6120, 72945, 77987, 37576, 41588, 43123, 23656, 25949, 64209, 39352, 11687, 31711, 43013, 8982, 27221, 7170, 36942, 56998, 87526, 17319, 96915, 95482, 55372, 48518, 64320, 71644, 34525, 61431, 42971, 57989, 51645, 43291, 45940, 92075, 68869, 64581, 82193, 75108, 37932, 7201, 8013, 7346, 4767, 91757, 61358, 29477, 25335, 85052, 36789, 26693, 27339, 53529, 16277, 42539, 27591, 78962, 24652, 33721, 67539, 56754, 92208, 23771, 29681, 22431, 97981, 63928, 29289, 74870, 20594, 80780, 48570, 77806, 76510, 33601, 88250, 5506, 35756, 85917, 26810, 7026, 82325, 21109, 85813, 69516, 99180, 45776, 61151, 22392, 40731, 14544, 25067, 22185, 70994, 19048, 64154, 78896, 96614, 89815, 17408, 72349, 54119, 73919, 1356, 89114, 28833, 80358, 48941, 61219, 79798, 85248, 6013, 54806, 63084, 11679, 35650, 86743, 25605, 9459, 31880, 31850, 93125, 7317, 42526, 45879, 34509, 6546, 78759, 85298, 45386, 83802, 81593, 43875, 49638, 84006, 46115, 80144, 9986, 30247, 26696, 48272, 56, 36946, 26098, 17202, 58971, 25548, 57313, 96899, 22147, 10967, 49677, 21410, 75467, 73307, 73299, 5896, 36741, 73657, 70122, 54909, 56895, 8596, 13249, 73349, 48675, 4846, 26232, 56033, 98539, 88960, 67158, 41589, 55958, 81780, 1675, 48891, 64611, 21804, 49261, 87014, 30019, 65836, 68316, 7993, 31489, 40724, 87143, 31409, 88337, 93503, 98794, 70543, 54236, 54587, 24759, 3976, 57796, 94408, 47752, 31006, 6340, 1754, 72295, 7122, 43988, 28224, 46921, 81051, 76339, 94160, 61717, 585, 47559, 90658, 68075, 7365, 61972, 30022, 64378, 16685, 50322, 37481, 11229, 30252, 31029, 7398, 36799, 85269, 45818, 18870, 60137, 77792, 66764, 85449, 21262, 77963, 20831, 90025, 93811, 6339, 15948, 13620, 96633, 92972, 12151, 95384, 95193, 5732, 76303, 49344, 90667, 60271, 72921, 13710, 92578, 29926, 41881, 71887, 99513, 39697, 69511, 17968, 69321, 47306, 62448, 77257, 32871, 41087, 63462, 55154, 6223, 78149, 62787, 68882, 22006, 8320, 23919, 59409, 42179, 48956, 75159, 52093, 2726, 89120, 66777, 83901, 86149, 66559, 37050, 45280, 97194, 48204, 91877, 73773, 74476, 38521, 6822, 58091, 36687, 99800, 7411, 51260, 34996, 47857, 15460, 10778, 32743, 66488, 79493, 36014, 67300, 65378, 82152, 93164, 74211, 69453, 37479, 94707, 91588, 76276, 4600, 64843, 56478, 65160, 95500, 97927, 7730, 57478, 2208, 36340, 40455, 20093, 61832, 83590, 50926, 66256, 95592, 88913, 21523, 87519, 28703, 55905, 38928, 87742, 99387, 12394, 33770, 30380, 84122, 82376, 70461, 4844, 97706, 19907, 49783, 91999, 76031, 81813, 25202, 35050, 89803, 35036, 6024, 13286, 90282, 13524];

console.log(longestConsecutive(n));
